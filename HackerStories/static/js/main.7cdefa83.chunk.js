(this["webpackJsonphacker-stories"]=this["webpackJsonphacker-stories"]||[]).push([[0],{18:function(e,t,n){e.exports=n(45)},23:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),l=(n(23),n(5)),i=n.n(l),u=n(16),s=n(2),m=n(3),p=n(17),f=n.n(p);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var h=r.a.createElement("g",null,r.a.createElement("path",{d:"M113.636,272.638c-2.689,0-5.267-1.067-7.168-2.97L2.967,166.123c-3.956-3.957-3.956-10.371-0.001-14.329l54.673-54.703       c1.9-1.9,4.479-2.97,7.167-2.97c2.689,0,5.268,1.068,7.169,2.969l41.661,41.676L225.023,27.332c1.9-1.901,4.48-2.97,7.168-2.97l0,0       c2.688,0,5.268,1.068,7.167,2.97l54.675,54.701c3.956,3.957,3.956,10.372,0,14.328L120.803,269.668       C118.903,271.57,116.325,272.638,113.636,272.638z M24.463,158.958l89.173,89.209l158.9-158.97l-40.346-40.364L120.803,160.264       c-1.9,1.902-4.478,2.971-7.167,2.971c-2.688,0-5.267-1.068-7.168-2.97l-41.66-41.674L24.463,158.958z"})),b=function(e){var t=e.svgRef,n=e.title,a=d(e,["svgRef","title"]);return r.a.createElement("svg",E({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 297 297",style:{enableBackground:"new 0 0 297 297"},xmlSpace:"preserve",ref:t},a),n?r.a.createElement("title",null,n):null,h)},y=r.a.forwardRef((function(e,t){return r.a.createElement(b,E({svgRef:t},e))})),v=(n.p,n(4)),O=(n(44),function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!1,data:0===t.payload.list?t.payload.list:e.data.concat(t.payload.list),page:t.payload.page});case"STORIES_FETCH_FAILURE":return Object(s.a)(Object(s.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(s.a)(Object(s.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}}),g=function(e,t){return"".concat("https://hn.algolia.com/api/v1").concat("/search","?").concat("query=").concat(e,"&").concat("page=").concat(t)},S=function(e){return e.substring(e.lastIndexOf("?")+1,e.lastIndexOf("&")).replace("query=","")},I=function(e){var t=e.searchTerm,n=e.onSearchInput,a=e.onSearchSubmit;return r.a.createElement("form",{onSubmit:a,className:"search-form"},r.a.createElement(T,{id:"search",value:t,isFocused:!0,onInputChange:n},r.a.createElement("strong",null,"Search:")),r.a.createElement("button",{type:"submit",disabled:!t,className:"button button_large"},"Submit"))},T=function(e){var t=e.id,n=e.type,a=void 0===n?"text":n,c=e.value,o=e.onInputChange,l=e.isFocused,i=e.children,u=r.a.useRef();return r.a.useEffect((function(){l&&u.current&&u.current.focus()}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:t,className:"label"},i),"\xa0",r.a.createElement("input",{ref:u,id:t,type:a,value:c,onChange:o,className:"input"}))},w={NONE:function(e){return e},TITLE:function(e){return Object(v.sortBy)(e,"title")},AUTHOR:function(e){return Object(v.sortBy)(e,"author")},COMMENT:function(e){return Object(v.sortBy)(e,"num_comments").reverse()},POINT:function(e){return Object(v.sortBy)(e,"points").reverse()}},R=function(e){var t=e.list,n=e.onRemoveItem,a=r.a.useState({sortKey:"NONE",isReverse:!1}),c=Object(m.a)(a,2),o=c[0],l=c[1],i=function(e){var t=o.sortKey===e&&!o.isReverse;l({sortKey:e,isReverse:t})},u=w[o.sortKey],s=o.isReverse?u(t).reverse():u(t);return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("span",{style:{width:"40%"}},r.a.createElement("button",{id:"TITLE",type:"button",onClick:function(){return i("TITLE")}},"Title")),r.a.createElement("span",{style:{width:"30%"}},r.a.createElement("button",{id:"AUTHOR",type:"button",onClick:function(){return i("AUTHOR")}},"Author")),r.a.createElement("span",{style:{width:"10%"}},r.a.createElement("button",{id:"COMMENT",type:"button",onClick:function(){return i("COMMENT")}},"Comments")),r.a.createElement("span",{style:{width:"10%"}},r.a.createElement("button",{id:"POINT",type:"button",onClick:function(){return i("POINT")}},"Points")),r.a.createElement("span",{style:{width:"10%"}},"Actions")),s.map((function(e){return r.a.createElement(j,{key:e.objectID,item:e,onRemoveItem:n})})),";")},j=function(e){var t=e.item,n=e.onRemoveItem;return r.a.createElement("div",{className:"item"},r.a.createElement("span",{style:{width:"40%"}},r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.title)," "),r.a.createElement("span",{style:{width:"30%"}},t.author),r.a.createElement("span",{style:{width:"10%"}},t.num_comments),r.a.createElement("span",{style:{width:"10%"}},t.points),r.a.createElement("span",{style:{width:"10%"}},r.a.createElement("button",{type:"button",onClick:function(){return n(t)},className:"button button_small"},r.a.createElement(y,{height:"18px",width:"18px"}))))},C=function(e){var t=e.lastSearches,n=e.onLastSearch;return r.a.createElement(r.a.Fragment,null,t.map((function(e,t){return r.a.createElement("button",{key:e+t,type:"button",onClick:function(){return n(e)}},e)})))},k=function(){var e=function(e,t){var n=r.a.useState(localStorage.getItem(e)||t),a=Object(m.a)(n,2),c=a[0],o=a[1];return r.a.useEffect((function(){localStorage.setItem(e,c)}),[c,e]),[c,o]}("search","React"),t=Object(m.a)(e,2),n=t[0],a=t[1],c=r.a.useState([g(n,0)]),o=Object(m.a)(c,2),l=o[0],s=o[1],p=r.a.useReducer(O,{data:[],page:0,isLoading:!1,isError:!1}),E=Object(m.a)(p,2),d=E[0],h=E[1],b=r.a.useCallback(Object(u.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h({type:"STORIES_FETCH_INIT"}),e.prev=1,t=l[l.length-1],e.next=5,f.a.get(t);case 5:n=e.sent,h({type:"STORIES_FETCH_SUCCESS",payload:{list:n.data.hits,page:n.data.page}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h({type:"STORIES_FETCH_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),[l]);r.a.useEffect((function(){b()}),[b]);var y=function(e,t){var n=g(e,t);s(l.concat(n))},v=function(e){return e.reduce((function(e,t,n){var a=S(t);return 0===n?e.concat(a):a===e[e.length-1]?e:e.concat(a)}),[]).slice(-6).slice(0,-1)}(l);return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"headline-primary"},"My Hacker Stories"),r.a.createElement(I,{searchTerm:n,onSearchInput:function(e){a(e.target.value)},onSearchSubmit:function(e){y(n,0),e.preventDefault()}}),r.a.createElement(C,{lastSearches:v,onLastSearch:function(e){a(e),y(e,0)}}),d.isError&&r.a.createElement("p",null,"Something went wrong ..."),r.a.createElement(R,{list:d.data,onRemoveItem:function(e){h({type:"REMOVE_STORY",payload:e})}}),d.isLoading?r.a.createElement("p",null,"Loading ..."):r.a.createElement("button",{type:"button",onClick:function(){var e=l[l.length-1],t=S(e);y(t,d.page+1)}}," ","More"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.7cdefa83.chunk.js.map